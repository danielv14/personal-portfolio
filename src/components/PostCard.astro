---
interface Props {
  title: string;
  date: Date;
  summary: string;
  slug: string;
  showDate?: boolean;
  category?: string;
}

const { title, date, summary, slug, showDate = true, category } = Astro.props;

const day = date.getDate();
const year = date.getFullYear();
const monthNames = ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'];
const formattedDate = `${day} ${monthNames[date.getMonth()]}, ${year}`;
---

<a
  href={`/blogg/${slug}`}
  class="block p-6 rounded-lg bg-surface border border-border hover:bg-surface/80 transition-colors group"
>
  <div class="flex items-center gap-2">
    {showDate && <time class="text-xs text-text-muted">{formattedDate}</time>}
    {category && (
      <span class="text-[10px] px-1.5 py-0.5 rounded-full border border-border text-text-muted">
        {category}
      </span>
    )}
  </div>
  <h3 class:list={["text-xl font-semibold text-text group-hover:underline", { "mt-1": showDate || category }]}>
    {title}
  </h3>
  <p class="text-text-muted mt-2">{summary}</p>
</a>
